<div class="container-fluid"  ng-controller="CartController" style="margin-bottom: 45px;">

    <div class="d-flex justify-content-center bd-highlight mb-3" >

        <div class="p-2 bd-highlight">
            <p style="font-size: 17pt; font-weight:bold; margin-top: 30px; margin-bottom: 40px;" >КОРЗИНА</p>
        </div>
    </div>



    <div id="EmptyCart" class="EmptyCart" ng-if="cart.length === 0">

        <div class="d-flex justify-content-center bd-highlight mb-3">

            <div class="p-2 bd-highlight">

                    <h3 style="margin-left: 380px;">Корзина пуста !</h3>

                <h4 style="margin-left: 380px;">Добавте товар для оформления заказа ! </h4>

                    <a id="buttonProduct" class="img-responsive center-block"  ui-sref="category" >
                        <img class="img-responsive center-block"   alt="Перейти в каталог товаров" ng-src="http://localhost:5012/TexDon/assets/images/othersImages/01final.png" >
                    </a>
            </div>
        </div>

    </div>



    <div id="CartTable" class="CartTable" ng-if="cart.length !== 0">

    <div class="d-flex justify-content-center bd-highlight mb-3">

            <div class="p-2 bd-highlight">

            <h4  class="text-center" style="font-weight:bold; margin-top: -21px !important; margin-bottom: 45px !important;">Список товаров находящихся в корзине:</h4>


                <table cellspacing="0">

                    <thead>

                    <tr align="center" text-align="center" >
                        <th align="center" text-align="center" style="font-weight:bold; font-size: 13pt;">Наименование товара</th>
                        <th align="center" text-align="center" style="font-weight:bold; font-size: 13pt;">Кол-во</th>
                        <th align="center" text-align="center" style="font-weight:bold; font-size: 13pt;" >Цена за 1 ед.</th>
                        <th align="center" text-align="center" style="font-weight:bold; font-size: 13pt;">Сумма</th>
                        <th align="center" text-align="center" style="font-weight:bold; font-size: 13pt;"> </th>

                    </tr>

                    </thead>

                    <tbody id="productsTable">

                     <tr  ng-repeat="pr in cart track by pr.productID ">


                        <td id="productTitle" class="{{ pr.productID }}" style="width: 450px;" > <p style="font-weight:bold; font-size: 13pt;" ng-bind-template="{{pr.productTitle}}"></p> </td>

                        <td align="center" text-align="center">
                            <input id="amount" style="width: 35px; font-weight:bold; text-align:center;"  class="input"  type="text"   ng-model="pr.amountProduct"   ng-change="ChangeProductAmount(pr)">
                        </td>

                        <td id="productPrice" align="center" text-align="center" style="width: 180px;" ><p style="font-weight:bold; font-size: 13pt;"  ng-bind-template="{{pr.productPrice}} руб."></p> </td>

                        <td align="center" text-align="center" style="width: 180px;" ><p id="total"  style="font-weight:bold; font-size: 13pt;" ng-bind-template="{{+pr.amountProduct * +pr.productPrice}}  руб."></p> </td>

                        <td align="center" text-align="center" style="width: 60px;" ng-click="RemoveProduct(pr)"> <div  style="width: 33px; height: 35px;" class="btn btn-danger deleteProduct">Х</div>  </td>


                    </tr>


                    <tr id="summa">
                        <td> </td>
                        <td style="font-weight:bold; font-size: 14pt;">Итого: </td>
                        <td></td>
                        <td id="totalPrice" style="font-weight:bold; font-size: 14pt;"  class="totalPrice" align="center" ng-bind-template="{{ Total.totalPrice }} руб."><b> </b></td>
                        <td></td>
                    </tr>

                    </tbody>


                </table>

        </div>
    </div>



    <div class="d-flex justify-content-center bd-highlight mb-3" style="margin-top: 21px !important;" ng-controller="CartController">

        <div class="p-2 bd-highlight">


        <div  class="col-12">

            <form name="answerForm" class="form-horizontal ng-pristine ng-invalid ng-invalid-required" novalidate>

        <div>
            <label  style="font-size: 12pt" ><b>Введите фамилию и имя </b></label>
            <div ng-class="{'has-error':answerForm.userFirstAndLastName.$error.required && answerForm.userFirstAndLastName.$dirty}">
            <input class="form-control ng-pristine ng-untouched ng-valid ng-empty" type="text"   name="userFirstAndLastName" required placeholder="Ф.И.О." ng-pattern="/^[A-Za-zА-Яа-я\s]{3,145}$/" ng-model="userFirstAndLastName">
            <span ng-show="answerForm.userFirstAndLastName.$dirty && answerForm.userFirstAndLastName.$error.required" style="color: red;" >Введите Ваше имя и отчество </span>
            </div>
        </div>

        <div style="margin-top: 20px;">
            <label  style="font-size: 12pt"><b>Введите Ваш Email (не обязательное поле для ввода)</b></label>
            <input class="form-control ng-pristine ng-untouched ng-valid ng-empty" type="text"  name="userEmail" placeholder="Email в формате myEmail@mail.ru"  ng-pattern="/^[a-z0-9A-Z_.@]{0,20}$/" ng-model="userEmail" >
            <span ng-show="answerForm.userEmail.$dirty && answerForm.userEmail.$error.required" style="color: red;" >Вы ввели некорректные данные </span>
        </div>


        <div style="margin-top: 20px;">
            <label for="userPhone" style="font-size: 12pt"><b>Введите контактный номер телефона для связи с Вами</b></label>
            <div ng-class="{'has-error':answerForm.userContactNumberPhone.$error.required && answerForm.userContactNumberPhone.$dirty}">
            <input class="form-control ng-pristine ng-untouched ng-valid ng-empty" type="text" id="userPhone" name="userContactNumberPhone" required  placeholder="Номер телефона в формате (071)-000-00-00" ng-pattern="/^[\(\)\-\+0-9\s]{9,18}$/" ng-model="userContactNumberPhone" >
                <span ng-show="answerForm.userContactNumberPhone.$dirty && answerForm.userContactNumberPhone.$error.required" style="color: red;" >Введите Ваш контактный телефон </span>
            </div>
        </div>


        <div style="margin-top: 20px;">
            <label for="deliveryAddress" style="font-size: 12pt"><b>Введите адрес куда необходимо произвести доставку товара</b></label>
            <div ng-class="{'has-error':answerForm.deliveryAddressOrder.$error.required && answerForm.deliveryAddressOrder.$dirty}">
            <input class="form-control ng-pristine ng-untouched ng-valid ng-empty" type="text" id="deliveryAddress"  name="deliveryAddressOrder" required placeholder="Адрес в формате Город, Улица, Номер дома, Квартира" ng-pattern="/^[A-ZА-Я0-9а-яa-z-/..,,:;:\(\)№ёЁ\s]{5,220}$/"  ng-model="deliveryAddressOrder">
                <span ng-show="answerForm.deliveryAddressOrder.$dirty && answerForm.deliveryAddressOrder.$error.required" style="color: red;" >Вы ввели некорректные данные </span>
            </div>
        </div>


        <div style="margin-top: 20px;">
            <label for="commentToTheOrder" style="font-size: 12pt" ><b>Комментарий к заказу (не обязательное поле для ввода)</b></label>
            <textarea  type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" name="commentToTheOrder" id="commentToTheOrder" placeholder="Сюда можете внести дополнительную информацию (Например указать что нужна - Срочная доставка товара)"  ng-pattern="/^[a-zA-Z0-9а-яА-ЯЁё_.,.,\(\)-;::;!?№\+*$&@\s]{0,895}$/"  ng-model="commentToTheOrder"></textarea>
            <span ng-show="answerForm.commentToTheOrder.$dirty && answerForm.commentToTheOrder.$error.required" style="color: red;" >Вы ввели некорректные данные </span>
        </div>


            <div class="d-flex justify-content-center bd-highlight mb-3" style="margin-top: 20px;">

                <div class="p-2 bd-highlight">
                    <button  ng-disabled="answerForm.userFirstAndLastName.$invalid || answerForm.userContactNumberPhone.$invalid || answerForm.deliveryAddressOrder.$invalid" class="btn btn-success" ng-click="ConfirmOrder(userFirstAndLastName, userEmail, userContactNumberPhone, deliveryAddressOrder, commentToTheOrder)">Оформить заказ</button>
                </div>

              </div>


            </form>

    </div>


             <!--
            <div id="popUpDialog"  ng-show="showPopUpDialog" class="modal fade" tabindex="-1" role="dialog"
                 aria-labelledby="popUpDialog" aria-hidden="true"
                 style="margin-top: 120px;">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        </div>
                        <div class="modal-body">
                            <h3 id="text"  ng-bind="text"> </h3>
                        </div>
                        <div class="modal-footer">
                            <button class="close btn btn-primary" type="button" data-dissmiss="modal"
                                    aria-label="Close"
                                    ng-click="clickOK()">OK</button>
                        </div>
                    </div>
                </div>
            </div>
            -->


        </div>

    </div>






     </div>

</div>



